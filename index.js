import{A as g,S as f}from"./assets/vendor-rYP-y5JH.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(o){if(o.ep)return;o.ep=!0;const n=t(o);fetch(o.href,n)}})();function E(){document.addEventListener("DOMContentLoaded",()=>{new g(".accordion-container",{duration:800,showMultiple:!1})})}const s={modal:document.querySelector("[data-modal]"),backdrop:document.querySelector("[data-modal-backdrop]"),closeBtn:document.querySelector("[data-modal-close]"),form:document.querySelector(".order-modal-form")},b="https://paw-hut.b.goit.study/api";let u=null;const m=s.modal&&s.backdrop&&s.closeBtn&&s.form;m&&(s.closeBtn.addEventListener("click",l),s.backdrop.addEventListener("click",w),s.form.addEventListener("submit",A),s.form.addEventListener("input",x),s.form.addEventListener("blur",k,!0));document.addEventListener("openAdoptionModal",e=>{if(!m)return;const{animalId:r}=e.detail||{};p(r)});function p(e){m&&(u=e??null,s.modal.classList.remove("is-hidden"),document.body.classList.add("no-scroll"),window.addEventListener("keydown",y))}function l(){m&&(s.modal.classList.add("is-hidden"),document.body.classList.remove("no-scroll"),window.removeEventListener("keydown",y),u=null,S())}function y(e){e.key==="Escape"&&l()}function w(e){e.target===s.backdrop&&l()}function v(e){const r=e.closest(".order-modal-field");if(!r)return null;let t=r.querySelector(".order-modal-error");return t||(t=document.createElement("p"),t.className="order-modal-error",t.style.marginTop="4px",t.style.fontSize="12px",t.style.lineHeight="1.3",t.style.color="#e74c3c",r.appendChild(t)),t}function d(e,r){e.classList.add("is-error");const t=v(e);t&&(t.textContent=r)}function h(e){e.classList.remove("is-error");const r=e.closest(".order-modal-field");if(!r)return;const t=r.querySelector(".order-modal-error");t&&(t.textContent="")}function S(){if(!s.form)return;s.form.querySelectorAll(".order-modal-input, .order-modal-textarea").forEach(h)}function a(e){if(!e)return!0;if(h(e),e.id==="user-comment"){const r=e.value.trim();return r.length>0&&r.length<10?(d(e,`Ð£ Ñ‚ÐµÐºÑÑ‚Ñ– Ð¼Ð°Ñ” Ð±ÑƒÑ‚Ð¸ Ð½Ðµ Ð¼ÐµÐ½ÑˆÐµ 10 ÑÐ¸Ð¼Ð²Ð¾Ð»Ñ–Ð² (Ð²Ð¸ Ð²Ð²ÐµÐ»Ð¸ ${r.length}).`),!1):!0}return e.checkValidity()?!0:e.id==="user-name"?(d(e,"Ð’ÐºÐ°Ð¶Ñ–Ñ‚ÑŒ Ñ–Ð¼Ê¼Ñ."),!1):e.id==="user-phone"?(d(e,"Ð’Ð²ÐµÐ´Ñ–Ñ‚ÑŒ Ð½Ð¾Ð¼ÐµÑ€ Ñƒ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ– 380XXXXXXXXX (12 Ñ†Ð¸Ñ„Ñ€)."),!1):(d(e,"ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€Ñ‚Ðµ Ð²Ð²ÐµÐ´ÐµÐ½Ñ– Ð´Ð°Ð½Ñ–."),!1)}function q(){const e=s.form.querySelector("#user-name"),r=s.form.querySelector("#user-phone"),t=s.form.querySelector("#user-comment"),c=a(e),o=a(r),n=a(t);return c&&o&&n}function x(e){const r=e.target;(r.classList.contains("order-modal-input")||r.classList.contains("order-modal-textarea"))&&a(r)}function k(e){const r=e.target;(r.classList.contains("order-modal-input")||r.classList.contains("order-modal-textarea"))&&a(r)}async function A(e){if(e.preventDefault(),!u){f.fire({icon:"warning",title:"ÐÐµ Ð¾Ð±Ñ€Ð°Ð½Ð¾ Ñ‚Ð²Ð°Ñ€Ð¸Ð½Ñƒ",text:"Ð’Ñ–Ð´ÐºÑ€Ð¸Ð¹ Ð´ÐµÑ‚Ð°Ð»Ñ– Ñ‚Ð²Ð°Ñ€Ð¸Ð½Ð¸ Ñ‚Ð° Ð½Ð°Ñ‚Ð¸ÑÐ½Ð¸ Â«Ð’Ð·ÑÑ‚Ð¸ Ð´Ð¾Ð´Ð¾Ð¼ÑƒÂ»."});return}if(!q()){const n=s.form.querySelector(".is-error");n&&n.focus();return}const t=new FormData(s.form),c={name:t.get("user-name").trim(),phone:t.get("user-phone").trim(),animalId:u,comment:(t.get("user-comment")||"").trim()},o=s.form.querySelector('button[type="submit"]');o&&(o.disabled=!0);try{const n=await fetch(`${b}/orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!n.ok){let i="Ð¡Ñ‚Ð°Ð»Ð°ÑÑ Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ°. Ð¡Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ñ‰Ðµ Ñ€Ð°Ð·.";try{i=(await n.json()).message||i}catch{}throw new Error(i)}await f.fire({icon:"success",title:"Ð—Ð°ÑÐ²ÐºÑƒ Ð½Ð°Ð´Ñ–ÑÐ»Ð°Ð½Ð¾!",text:"ÐœÐ¸ Ð·Ð²â€™ÑÐ¶ÐµÐ¼Ð¾ÑÑ Ð· Ð²Ð°Ð¼Ð¸ Ð½Ð°Ð¹Ð±Ð»Ð¸Ð¶Ñ‡Ð¸Ð¼ Ñ‡Ð°ÑÐ¾Ð¼ ðŸ™‚",timer:2200,showConfirmButton:!1}),s.form.reset(),l()}catch(n){f.fire({icon:"error",title:"ÐÐµ Ð²Ð´Ð°Ð»Ð¾ÑÑ Ð½Ð°Ð´Ñ–ÑÐ»Ð°Ñ‚Ð¸ Ð·Ð°ÑÐ²ÐºÑƒ",text:n.message||"ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ Ð·â€™Ñ”Ð´Ð½Ð°Ð½Ð½Ñ Ñ‚Ð° ÑÐ¿Ñ€Ð¾Ð±ÑƒÐ¹ Ñ‰Ðµ Ñ€Ð°Ð·."})}finally{o&&(o.disabled=!1)}}E();p();l();
//# sourceMappingURL=index.js.map
